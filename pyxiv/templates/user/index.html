{% extends "layouts/default.html" %}
{% block title %}{{ user.name }}{% endblock %}

{% block content %}
<div class="container">
	<div class="user-container">
		{% if user.background %}
		<a href="{{ user.background }}">
			<img class="user-banner" src="{{ user.background }}" alt="{{ user.name }}'s background"/>
		</a>
		{% endif %}
		<div class="user-main">
			<div class="user-info">
				<img class="user-pfp" src="{{ user.imageBig }}" alt="{{ user.name }}'s profile picture"/>
				<div class="user-details">
					<span class="user-name">
						{{ user.name }}
						{% if user.official %}
						<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="m344-60-76-128-144-32 14-148-98-112 98-112-14-148 144-32 76-128 136 58 136-58 76 128 144 32-14 148 98 112-98 112 14 148-144 32-76 128-136-58-136 58Zm94-278 226-226-56-58-170 170-86-84-56 56 142 142Z"/></svg>
						{% endif %}
						{% if user.premium %}
						<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="m233-120 65-281L80-590l288-25 112-265 112 265 288 25-218 189 65 281-247-149-247 149Z"/></svg>
						{% endif %}
						{% if user._id == 108913558 %}
						<!-- :3 -->
						<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M320-240 80-480l240-240 57 57-184 184 183 183-56 56Zm320 0-57-57 184-184-183-183 56-56 240 240-240 240Z"/></svg>
						<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="m480-120-58-52q-101-91-167-157T150-447.5Q111-500 95.5-544T80-634q0-94 63-157t157-63q52 0 99 22t81 62q34-40 81-62t99-22q94 0 157 63t63 157q0 46-15.5 90T810-447.5Q771-395 705-329T538-172l-58 52Z"/></svg>
						{% endif %}
					</span>
					<span class="user-stats"><a href="/users/{{ user._id }}/following"><b>{{ user.following }}</b> following</a> - <b>{{ user.mypixiv }}</b> mypixiv</span>
					<br>
					{% if not user._id == g.userdata._id %}
					{% if user.isFollowed %}
					<a class="button neutral" href="/self/unfollowUser/{{ user._id }}?r=/users/{{ user._id }}">Following</a>
					{% else %}
					<a class="button" href="/self/followUser/{{ user._id }}?r=/users/{{ user._id }}">Follow</a>
					{% endif %}
					{% endif %}
				</div>
			</div>
		</div>
		{% if user.comment %}
		<div class="user-data">
			{{ user.commentHtml | safe }}
		</div>
		{% endif %}
	</div>
</div>

<br>

<div class="container">
	<ul class="tab-navigation">
		<li {% if currentSection == "home" %}class="active"{% endif %}><a href="/users/{{ user._id }}">Home</a></li>
		<li {% if currentSection == "illust" %}class="active"{% endif %}><a href="/users/{{ user._id }}/illusts#checkpoint">Illustrations</a></li>
		<li {% if currentSection == "manga" %}class="active"{% endif %}><a href="/users/{{ user._id }}/manga#checkpoint">Manga</a></li>
		<li {% if currentSection == "bookmarks" %}class="active"{% endif %}><a href="/users/{{ user._id }}/bookmarks#checkpoint">Bookmarks</a>
	</ul>
</div>

<br>

<div id="checkpoint">
{% block userComponent %}
{% endblock %}
</div>

{% endblock %}
