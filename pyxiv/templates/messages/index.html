<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/themes/theme-{{g.theme}}.css">
    <link rel="stylesheet" href="/static/messages/style.css">
    <title>{{_("Messages")}}</title>
</head>
<body>
    <div class="app">
        <nav class="app-nav">
            <ul>
                <li><a href="/"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#cacaca"><path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/></svg></a></li>
            </ul>
            <img class="profile" src="{{g.userdata.image}}" alt="{{g.userdata.name}}" title="{{g.userdata.name}}">
        </nav>
        <div class="sidebar">
            <h1>{{_("Messages")}}</h1>
            <div class="notice">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#cacaca"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>
                <small>{{ _("<b>Remember:</b> All messages are not end-to-end encrypted and are subject to the <a rel='noopener noreferrer' href='https://policies.pixiv.net'>pixiv Service Master Terms of Use</a>. Don't send sensitive information!")}}</small>
            </div>
            <div class="threads">
                {% for thread in g.threads %}
                <a href="/self/messages/t/{{thread.thread_id}}">
                    <div class="thread">
                        <img src="{{thread.icon}}" alt="">
                        <div class="details">
                            <div class="user">
                                <div class="wrapper">
                                    {{thread.name}}
                                    {% if thread.official %}
                                    <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#cacaca"><path d="m347-72-75-124-141-32 13-144-96-108 96-108-13-144 141-32 75-124 133 57 133-57 75 124 141 32-13 144 96 108-96 108 13 144-141 32-75 124-133-57-133 57Zm82-264 238-237-51-51-187 186-85-84-51 51 136 135Z"/></svg>
                                    {% endif %}
                                </div>
                            </div>
                            <small>{{thread.latestContent[:64]}}</small>
                        </div>
                    </div>
                </a>
                {% endfor %}
            </div>
        </div>
        <main>
            {% block msgcomponent %}
            {% endblock %}
        </main>
    </div>
</body>
</html>