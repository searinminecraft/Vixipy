{% extends "layouts/default.html" %}
{% block title %}{{ tagInfo.tag }}{% endblock %}
{% block content %}

<div class="container">
	<div class="tag-meta">
		<a class="imglink" href="/artworks/{{ tagInfo.imageId }}">
		<img src="{{ tagInfo.image }}"/>
		<div class="grad"></div>
		</a>
		<div class="tag-info">
			<div>
				{% if tagInfo.enTranslation %}
				<h2>#{{ tagInfo.tag }} <i>{{ tagInfo.enTranslation }}</i></h2>
				{% else %}
				<h2>#{{ tagInfo.tag }}</h2>
				{% endif %}
				<small>{{ data.total }} works</small>
				<p>{{ tagInfo.abstract }}</p>
			</div>
		</div>
	</div>
</div>

<br>
{% if g.get('omittedByFilter') %}
<i>Some entries have been hidden due to filters</i>
{% endif %}

<div class="container">
	<h2>Related tags</h2>
	<div class="related-tags">
		{% for tag in data.relatedTags %}
		<div class="tag">
			<a href="/tag/{{ tag.tag }}">#{{ tag.tag }}</a>
			{% if tag.enTranslation %}
			<i>{{ tag.enTranslation }}</i>
			{% endif %}
		</div>
		{% endfor %}
	</div>
</div>

<h1>Popular artworks</h1>

<div class="container">
	<h2>Recent</h2>
	<div class="artwork-scroll-container">
		{% if data.popularRecent | length == 0 %}
		<p>Nothing in here!</p>
		{% else %}
		{% for d in data.popularRecent %}
		{% include "components/artwork-prev.html" %}
		{% endfor %}
		{% endif %}
	</div>
	<h2>All-time</h2>
	<div class="artwork-scroll-container">
		{% if data.popularAllTime | length == 0 %}
		<p>Nothing in here!</p>
		{% else %}
		{% for d in data.popularAllTime %}
		{% include "components/artwork-prev.html" %}
		{% endfor %}
		{% endif %}
	</div>
</div>

<h1>Works</h1>

<div class="container">
	<div class="artwork-container">
		{% if data.results | length != 0 %}
		{% for d in data.results %}
		{% include "components/artwork-prev.html" %}
		{% endfor %}
		{% else %}
		<p>Nothing to show!</p>
		{% endif %}
	</div>
</div>

<div class="paginator">

{% if currPage | int > 1 %}
<a href={{ path + useSym + "p=" + ((currPage | int - 1) | string)  }}>&lt;</a>
{% else %}
<a>&lt;</a>
{% endif %}

<span>Page {{ currPage }} of {{ data.lastPage }}</span>

{% if currPage | int != data.lastPage %}
<a href={{ path + useSym + "p=" + ((currPage | int + 1) | string)  }}>&gt;</a>
{% else %}
<a>&gt;</a>
{% endif %}

</div>

{% endblock %}

