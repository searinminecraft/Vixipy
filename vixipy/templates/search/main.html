{% extends "search/index.html" %}

{% from "components/novel-entry.html" import nentry %}
{% block body %}
<section class="checkpoint">
    <nav class="tabs">
        <a href="#" class="active">{{_("Top")}}</a>
        <a href="/tags/{{tag_info.tag}}/artworks">{{_("Illustrations")}}</a>
        <a href="/tags/{{tag_info.tag}}/manga">{{_("Manga")}}</a>
        <a href="/tags/{{tag_info.tag}}/novels">{{_("Novels")}}</a>
        <a href="#">{{_("User")}}</a>
    </nav>
    {% if data.total > 0 %}
    {% if data.popular_recent | length > 0 or data.popular_permanent | length > 0 %}
    <h2>{{_("Popular Works")}}</h2>
    {% if data.popular_recent | length > 0 %}
    <h3>{{_("Recent")}}</h3>
    <div class="scrolling-container">
        {% for e in data.popular_recent %}
        {{ entry(e) }}
        {% endfor %}
    </div>
    {% endif %}
    {% if data.popular_permanent | length > 0 %}
    <h3>{{_("All Time")}}</h3>
    <div class="scrolling-container">
        {% for e in data.popular_permanent %}
        {{ entry(e) }}
        {% endfor %}
    </div>
    {% endif %}
    {% endif %}
    {% if data.total_illustmanga > 0 %}
    <h2>{{_("Illustrations and Manga")}}</h2>
    <div class="artwork-container">
        {% for e in data.results %}
        {{ entry(e) }}
        {% endfor %}
    </div>
    <div class="button-pointer">
        <a href="/tags/{{tag_info.tag}}/artworks" class="button neutral">{{_("View All")}}</a>
    </div>
    {% endif %}

    {% if data.total_novel > 0 %}
    <h2>{{_("Novels")}}</h2>
    <div class="novels-container">
        {% for n in data.novels %}
        {{ nentry(n) }}
        {% endfor %}
    </div>
    <div class="button-pointer">
        <a href="/tags/{{tag_info.tag}}/novels" class="button neutral">{{_("View All")}}</a>
    </div>
    {% endif %}
    {% else %}
    <div class="no-content">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 22a3 3 0 01-3-3V5a3 3 0 013-3h10a3 3 0 013 3v10h4v4a3 3 0 01-3 3H5zm13-3a1 1 0 002 0v-2h-2v2zm-6.918-2.153a1.153 1.153 0 11-2.306 0 1.153 1.153 0 012.306 0zm-.076-3.45c.037-.074.111-.194.157-.268.251-.368.601-.675.955-.986.819-.717 1.662-1.456 1.38-3.027-.268-1.559-1.514-2.84-3.073-3.072a3.692 3.692 0 00-4.087 2.574.845.845 0 00.803 1.08h.185c.378 0 .682-.268.811-.6a1.841 1.841 0 012.122-1.18c.886.184 1.531 1.06 1.448 1.964-.062.704-.565 1.094-1.124 1.526-.348.27-.718.556-1.016.946-.019.02-.082.109-.128.174l-.047.066c-.083.13-.194.35-.25.498-.008.01-.008.019-.008.028-.111.332-.185.729-.185 1.2h1.854c0-.231.028-.434.093-.628.009-.037.092-.268.11-.295z" fill="currentColor"/></svg>
        {{_("No matching results found.")}}
    </div>
    {% endif %}
</section>
{% endblock %}